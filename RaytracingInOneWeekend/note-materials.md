abstract material class
- produce a scattered ray (absorbed the incident ray)
- if scattered, how much ray attenuated

material will tell us how rays interact with the surface
hit_record is just a way to stuff a bunch of arguments into a struct so we can send them as a group

背景颜色和1中是一样的画法：将“（原始）光线的方向向量的标准向量的某一坐标（x、y、z都可以）”变换到（0，1）内，然后用变换后的值对两个固定颜色值进行插值，得到的结果便作为当前（原始）光线对应位置的颜色值。

球的颜色：（注意啦~）和背景颜色的画法非常类似，只是不是基于原始光线，而是基于“最后一次反射的反射光线”，另外再乘以每次反射系数的累计乘积。将“最后一次反射的反射光线的方向向量的标准向量的某一坐标（x、y、z都可以）”变换到（0，1）内，然后用变换后的值对两个固定颜色值进行插值，（再乘以每次反射系数的累计乘积）得到的结果便作为当前（原始）光线对应位置的颜色值。物理意义即是：原始光线和漫射材料球交点处呈现的颜色是最后一次反射光线“采集”的背景颜色经过（多次）随机的反射衰减后的颜色。

总结一下设置颜色的几种方法：

法1，设置固定颜色；

法2，原始光线的方向向量的映射；

法3，交点处法向量的映射；

法4，反射光线的方向向量的映射；

21.2 模拟不同材料的颜色
前面章节，我们已经知道漫射材料颜色的设置：return 0.5*color( ray(rec.p, target-rec.p), world);也就是反射光线方向向量的映射值和衰减系数的乘积。

根据不同的反射方式，可将材料分为漫反射材料和镜面反射材料。各种反射材料又有不同的反射衰减系数。所以，我们有必要先定义一个material的抽象类，这个类包含反射光线和衰减系数。

---

乘以衰减系数的效果是什么呢？

考虑到，不管是原始光线还是反射光线的方向向量映射后的颜色都是两个固定颜色的插值（此处为白色和浅蓝色）。

但是，衰减系数是材料的特有属性。一方面，每次反射后的光强度肯定是弱了；另一方面每反射一次都会加入被撞物体的颜色。

我们可以这样理解：像漫反射球，原始光线碰撞漫反射球后经过多次无规则的反射进入环境，漫反射球的颜色就是环境颜色（最后一次反射光线方向向量的映射）和所有被碰撞到的其他物体颜色（衰减向量中隐含该信息）的叠加。

我们发现，镜面反射球上一般会有旁边物体的镜像，正是因为上述原因。但是漫反射球上不会有？因为其反射光线方向不规则嘛，所以成像太模糊了。
